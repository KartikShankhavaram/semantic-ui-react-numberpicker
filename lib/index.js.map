{"version":3,"sources":["../src/index.js"],"names":["DECREASE_VALUE","INCREASE_VALUE","NumberPicker","style","default","input","borderRadius","textAlign","buttonLeft","borderTopRightRadius","borderBottomRightRadius","margin","buttonRight","borderTopLeftRadius","borderBottomLeftRadius","circular","marginRight","marginLeft","handleAction","bind","validateInput","state","touched","buffer","event","actionFilter","currentTarget","name","currentValue","value","replace","setVal","_","isFinite","parseFloat","props","stepSize","step","min","max","parsedVal","lastChar","charAt","length","returnValue","precision","Math","floor","setTimeout","onChange","v","target","display","basic","compact","classname_outer_input","classname_button_minus","id","classname_inner_input","maxLength","placeholder","required","defaultValue","classname_button_plus","React","Component","propTypes","PropTypes","string","isRequired","any","func","number","bool"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport _ from \"lodash\";\nimport { Button, Form, Input } from \"semantic-ui-react\";\nimport PropTypes from \"prop-types\";\n\nexport const DECREASE_VALUE = \"DECREASE_VALUE\";\nexport const INCREASE_VALUE = \"INCREASE_VALUE\";\n\n/*\n USAGE EXAMPLES:\n <Form.Field inline control={NumberPicker} name={MULTIPLY_INPUT + \".times\"} onChange={this.triggerChange} label=\"Copies to create\" defaultValue={1} min={1} max={999} placeholder=\"Repeat ...\" />\n <Form.Field width=\"8\" control={NumberPicker} compact label=\"compact buttons\" placeholder=\"Enter a number\" defaultValue={6} min={-41} max={45} step={1} />\n <Form.Field width=\"8\" control={NumberPicker} circular label=\"circular buttons\" placeholder=\"Enter a number\" defaultValue={6} min={-41} max={45} step={1} />\n <Form.Field width=\"8\" control={NumberPicker} basic label=\"basic buttons\" placeholder=\"Enter a number\" defaultValue={4} min={-40} max={40} step={2} />\n\n*/\n\nclass NumberPicker extends React.Component {\n  constructor() {\n    super();\n    this.style = {\n      default: {\n        input: {\n          borderRadius: \"0px\",\n          textAlign: \"right\"\n        },\n        buttonLeft: {\n          borderTopRightRadius: \"0px\",\n          borderBottomRightRadius: \"0px\",\n          margin: \"0px\"\n        },\n        buttonRight: {\n          borderTopLeftRadius: \"0px\",\n          borderBottomLeftRadius: \"0px\"\n        }\n      },\n      circular: {\n        input: {\n          textAlign: \"right\"\n        },\n        buttonLeft: {\n          marginRight: \"3.5px\"\n        },\n        buttonRight: {\n          marginLeft: \"3.5px\"\n        }\n      }\n    };\n    this.handleAction = this.handleAction.bind(this);\n    this.validateInput = this.validateInput.bind(this);\n\n    this.state = {\n      touched: false,\n      buffer: {}\n    };\n  }\n\n  static get defaultProps() {\n    return {\n      placeholder: \"Enter a number\",\n      id: \"\",\n      /*\n             Limiting min, max value to 1e10 to prevent javascript to switch into scientific notation\n             */\n      min: 1e10 * -1,\n      max: 1e10,\n      maxLength: 10,\n      step: 1,\n      required: false,\n      basic: false,\n      circular: false,\n      compact: false,\n      classname_button_minus: \"number_picker_button_minus\",\n      classname_button_plus: \"number_picker_button_plus\",\n      classname_outer_input: \"number_picker\",\n      classname_inner_input: \"number_picker_input\"\n    };\n  }\n\n  handleAction(event) {\n    let actionFilter = event.currentTarget.name;\n    let currentValue = event.currentTarget.value\n      .replace(\",\", \".\")\n      .replace(/\\D/g, \"\");\n\n    var setVal = _.isFinite(parseFloat(this.props.value))\n      ? parseFloat(this.props.value)\n      : null;\n    let stepSize = _.isFinite(parseFloat(this.props.step))\n      ? parseFloat(this.props.step)\n      : 1;\n    switch (actionFilter) {\n      case DECREASE_VALUE:\n        if (this.props.value - stepSize >= this.props.min) setVal -= stepSize;\n        else setVal = this.props.min;\n\n        break;\n      case INCREASE_VALUE:\n        if (setVal + stepSize <= this.props.max) setVal += stepSize;\n        else setVal = this.props.max;\n\n        break;\n      default:\n        let parsedVal = parseFloat(currentValue);\n        if (currentValue === \"-\") this.state.buffer = \"-\";\n\n        if (!(parsedVal > this.props.max || parsedVal < this.props.min)) {\n          setVal = currentValue;\n        }\n\n        break;\n    }\n\n    let lastChar = (\"\" + setVal).charAt(setVal.length - 1) || \"\";\n    let returnValue = setVal;\n    let precision = 1000;\n    if (_.isFinite(parseFloat(setVal)))\n      returnValue = Math.floor(parseFloat(setVal) * precision) / precision;\n\n    if (setVal === \"\" || setVal === \"-\" || lastChar === \".\" || lastChar === \",\")\n      returnValue = setVal;\n\n    setTimeout(this.props.onChange, 1, {\n      name: this.props.name,\n      value: returnValue\n    });\n  }\n\n  validateInput(event, v) {\n    let actionFilter = event.target.name;\n    let currentValue = event.target.value;\n\n    var setVal = this.props.value;\n    switch (actionFilter) {\n      case this.props.name:\n        let parsedVal = parseFloat(currentValue);\n        setVal = _.isFinite(parsedVal) ? parsedVal : null;\n\n        if (parsedVal > this.props.max) setVal = this.props.max;\n        break;\n\n      case DECREASE_VALUE:\n      case INCREASE_VALUE:\n      default:\n        break;\n    }\n  }\n\n  render() {\n    var style = this.props.circular ? this.style.circular : this.style.default;\n    var display = {\n      circular: this.props.circular,\n      basic: this.props.basic,\n      compact: this.props.compact\n    };\n    return (\n      <Input className={this.props.classname_outer_input}>\n        <Button\n          {...display}\n          type=\"button\"\n          icon=\"minus\"\n          onClick={this.handleAction}\n          name={DECREASE_VALUE}\n          style={style.buttonLeft}\n          disabled={this.props.value <= this.props.min}\n          className={this.props.classname_button_minus}\n        />{\" \"}\n        <input\n          type=\"text\"\n          name={this.props.name}\n          id={this.props.id}\n          min={this.props.min}\n          max={this.props.max}\n          step={this.props.step}\n          className={this.props.classname_inner_input}\n          maxLength={this.props.maxLength}\n          placeholder={this.props.placeholder}\n          required={this.props.required}\n          defaultValue={this.props.defaultValue}\n          value={this.props.value}\n          onChange={this.handleAction}\n          onBlur={this.validateInput}\n          style={style.input}\n        />{\" \"}\n        <Button\n          {...display}\n          type=\"button\"\n          icon=\"plus\"\n          onClick={this.handleAction}\n          name={INCREASE_VALUE}\n          style={style.buttonRight}\n          disabled={this.props.value >= this.props.max}\n          className={this.props.classname_button_plus}\n        />{\" \"}\n      </Input>\n    );\n  }\n}\n\nNumberPicker.propTypes = {\n  name: PropTypes.string.isRequired,\n  id: PropTypes.string,\n  value: PropTypes.any,\n  defaultValue: PropTypes.any,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  step: PropTypes.number,\n  maxLength: PropTypes.number,\n  required: PropTypes.bool,\n  basic: PropTypes.bool,\n  circular: PropTypes.bool,\n  compact: PropTypes.bool\n};\n\nexport default NumberPicker;\n"]}